<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise Async Await</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <pre>
        Que-1
            Write one example explaining how you can write a callback function.


        Ans-
            function demo(callback) {
                setTimeout(() => {
                const data = { name: "Bhushan", age: 28 };
            
                callback(data);
                }, 2000);
            }
            function demo2(data) {
                console.log("Received data:", data);
            }
            
            demo(demo2);

    </pre>
    <hr>
    <pre>
        Que-2
            Write a callback function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on. 

            Explain callback hell.
            Numbers
            1
            2
            3
            4
            5
            6
            7
        

        Ans-
            function step1(callback) {
                setTimeout(() => {
                console.log("1");
                callback();
                }, 1000);
            }
            
            function step2(callback) {
                setTimeout(() => {
                console.log("2");
                callback();
                }, 1000);
            }
            
            function step3(callback) {
                setTimeout(() => {
                console.log("3");
                callback();
                }, 1000);
            }
            
            function step4(callback) {
                setTimeout(() => {
                console.log("4");
                callback();
                }, 1000);
            }
            
            function step5(callback) {
                setTimeout(() => {
                console.log("5");
                callback();
                }, 1000);
            }
            
            function step6(callback) {
                setTimeout(() => {
                console.log("6");
                callback();
                }, 1000);
            }
            
            function step7() {
                setTimeout(() => {
                    console.log("7");
                }, 1000);
            }
            
            step1(() => {
                step2(() => {
                step3(() => {
                    step4(()=>{
                        step5(()=>{
                            step6(()=>{
                                step7();
                            });
                        });
                    });
                });
                });
            });
    </pre>
    <hr>
    <pre>
        Que-3
            Write the promise function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on. 

            Numbers
            1
            2
            3
            4
            5
            6
            7




        Output -
            function delay(sec) {
                return new Promise(function (resolve) {
                setTimeout(resolve, sec);
                });
            }
            
            async function delayNumber() {
                for (let num = 1; num <= 7; num++) {
                await delay(num * 1000);
                console.log(num);
                }
            }
            
            delayNumber();
    </pre>

    <hr>

    <pre>
        Que-4
            Create a promise function accepting an argument, if yes is passed to the function then it should go to resolved state and print Promise Resolved, and if nothing is passed 
            then it should go to reject the state and catch the error and print Promise Rejected 


        Ans-
            function Argument(ans) {
                return new Promise((resolve, reject) => {
                    if (ans === 'yes') {
                        resolve('Resolved');
                    } else {
                        reject('Rejected');
                    }
                });
            }
        
        
            Argument('yes')
            .then((result) => {
                console.log(result); 
            })
            .catch((error) => {
                console.log(error); 
            });
        
            Argument()
            .then((result) => {
                console.log(result); 
            })
            .catch((error) => {
                console.log(error); 
            });
        
    </pre>
<hr>
    <pre>
        Que-5
            Create examples to explain callback function

        Ans-
            function demo(name, callback) {
                console.log("Hello, " + name + "!");
                callback();
            }
            
            function demo2() {
                console.log("Goodbye!");
            }
            
            demo("John", demo2);
    </pre>
    <hr>

    <pre>
        Que-6
            Create examples to explain callback hell function

        Ans-    
            function step1(callback) {
                setTimeout(() => {
                console.log("Step 1 complete");
                callback();
                }, 1000);
            }
            
            function step2(callback) {
                setTimeout(() => {
                console.log("Step 2 complete");
                callback();
                }, 2000);
            }
            
            function step3(callback) {
                setTimeout(() => {
                console.log("Step 3 complete");
                callback();
                }, 1500);
            }
            
            function finalStep() {
                console.log("All steps complete!");
            }

            step1(() => {
                step2(() => {
                    step3(() => {
                        finalStep();
                    });
                });
            });
    </pre>
<hr>
    <pre>
        Que-7
            Create examples to explain promises function

        Ans-
            function fetchUserData() {
                return new Promise((resolve, reject) => {
                setTimeout(() => {
                        const userData = { id: 1, name: "John Doe", age: 28 };
                    resolve(userData);
                    }, 2000);
                });
            }
            fetchUserData()
                .then((data) => {
                    console.log("User data:", data);
                })
                .catch((error) => {
                    console.error("Error:", error);
                });
    </pre>
    <hr>

    <pre>
        Que-8
            Create examples to explain async await function

        Ans-
            function fetchUserData() {
                return new Promise((resolve, reject) => {
                // Simulate an asynchronous operation (e.g., fetching user data from a server)
                setTimeout(() => {
                    const userData = { id: 1, name: "John Doe", age: 30 };
                    // If the operation is successful, resolve the promise with the data
                    resolve(userData);
                    // If there's an error, reject the promise with an error message
                    // reject("Failed to fetch user data");
                }, 2000);
                });
            }
            
            async function getData() {
                try {
                const data = await fetchUserData();
                console.log("User data:", data);
                } catch (error) {
                console.error("Error:", error);
                }
            }
            
            // Using the async function with await
            getData();
    </pre>
    <hr>
    <pre>
        Que-9
            Create examples to explain promise.all function

        Ans-
            function fetchUserData(userId) {
                return new Promise((resolve) => {
                // Simulate an asynchronous operation (e.g., fetching user data from a server)
                setTimeout(() => {
                    const userData = { id: userId, name: "User " + userId, age: 30 };
                    resolve(userData);
                }, 1000);
                });
            }
            
            function fetchUserPosts(userId) {
                return new Promise((resolve) => {
                // Simulate an asynchronous operation (e.g., fetching user posts from a server)
                setTimeout(() => {
                    const userPosts = [
                    { id: 1, title: "Post 1", content: "Content of Post 1" },
                    { id: 2, title: "Post 2", content: "Content of Post 2" },
                    ];
                    resolve(userPosts);
                }, 1500);
                });
            }
            
            async function getUserDataWithPosts(userId) {
                try {
                const [userData, userPosts] = await Promise.all([
                    fetchUserData(userId),
                    fetchUserPosts(userId),
                ]);
            
                console.log("User data:", userData);
                console.log("User posts:", userPosts);
                } catch (error) {
                console.error("Error:", error);
                }
            }
            
            // Using the async function with Promise.all
            getUserDataWithPosts(1);
    </pre>
</body>
</html>